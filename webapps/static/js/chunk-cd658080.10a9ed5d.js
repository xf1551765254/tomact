(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd658080"],{"25b4":function(e,t,s){"use strict";var r=s("b0de"),o=s.n(r);o.a},"336c":function(e,t,s){"use strict";var r=s("a76c"),o=s.n(r);o.a},"9ed6":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_container"},[s("div",{staticClass:"login_box"},[s("div",{staticClass:"avatar_box"}),s("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"0px",autocomplete:"on"}},[s("el-tabs",{on:{"tab-click":e.handleClickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"账号登录",name:"first"}},[s("el-form-item",{attrs:{prop:"first"===e.activeName?"username":""}},[s("el-input",{attrs:{autocomplete:"on","prefix-icon":"el-icon-user-solid",tabindex:"1",placeholder:"请输入账户/手机/邮箱",size:""},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"first"===e.activeName?"password":""}},[s("el-input",{ref:"password",attrs:{"prefix-icon":"el-icon-lock",autocomplete:"on",tabindex:"2",type:e.passwordType,placeholder:"请输入登录密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[s("span",{staticClass:"show-pwd",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"},[s("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)])],1)],1),s("el-tab-pane",{attrs:{label:"短信登录",name:"second"}},["second"===e.activeName?s("div",[s("el-form-item",{attrs:{prop:"second"===e.activeName?"phone":""}},[s("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"请输入手机号"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[s("svg-icon",{attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1)],1):e._e(),"second"===e.activeName?s("div",[s("el-form-item",{attrs:{prop:"second"===e.activeName?"message":""}},[s("el-input",{attrs:{placeholder:"请输入短信验证码"},model:{value:e.loginForm.message,callback:function(t){e.$set(e.loginForm,"message",t)},expression:"loginForm.message"}},[s("svg-icon",{attrs:{slot:"prefix","icon-class":"sendMessage"},slot:"prefix"}),s("el-button",{attrs:{slot:"suffix",type:"text"},on:{click:e.sendIdentifyCode},slot:"suffix"},[e._v(" 发送验证码 ")])],1)],1)],1):e._e()])],1),s("el-form-item",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.login}},[e._v("登录")])],1),s("div",{staticClass:"login_form_footer"},[s("div",{staticClass:"login_form_footerLetf"}),s("div",{staticClass:"login_form_footerLetf"},[s("el-button",{attrs:{type:"text"}},[s("router-link",{attrs:{to:"/register"}},[e._v("注册新用户")])],1),s("el-button",{attrs:{type:"text"}},[s("router-link",{attrs:{to:"/forgetPassword"}},[e._v("忘记密码?")])],1)],1)])],1)],1),e._m(0)])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"copyright"},[e._v(" Copyright © "),s("a",{attrs:{href:"http://www.axureux.com/home/default.html",target:"_blank"}},[s("span",[e._v("新兴铸管")])]),s("span",[e._v(", All Rights Reserved.")])])}],a=(s("b0c0"),s("96cf"),s("1da1")),n=s("5f87"),i={data:function(){return{activeName:"first",passwordType:"password",loading:!1,loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入登录号",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3|4|5|7|8][0-9]{9}$/,message:"请输入正确的手机号",trigger:"blur"}],message:[{required:!0,message:"请输入验证码",trigger:"blur"},{pattern:/^\d{4,6}$/,message:"请输入正确的验证码",trigger:"blur"}]}}},methods:{showPassword:function(){var e=this;""===this.passwordType?this.passwordType="password":this.passwordType="",this.$nextTick((function(){e.$refs.password.focus()}))},sendIdentifyCode:function(){this.$refs.loginFormRef.validateField("phone",(function(e){}))},handleClickTab:function(e,t){this.activeName=e.name},resetLoginForm:function(){this.$refs.loginFormRef.resetFields()},login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(s){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return r=(new Date).getTime(),e.$store.commit("user/SET_USERID",r),Object(n["c"])(r),localStorage.setItem("userId",r),t.next=8,e.$store.dispatch("permission/generateRoutes",["admin"]);case 8:o=t.sent,e.$router.addRoutes(o),e.$router.push("/home");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},l=i,c=(s("25b4"),s("336c"),s("2877")),u=Object(c["a"])(l,r,o,!1,null,"cf528d64",null);t["default"]=u.exports},a76c:function(e,t,s){},b0de:function(e,t,s){}}]);